(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),n=o.querySelector(".status"),l=()=>{let e;const t=o.querySelector('[name="fio"]'),l=o.querySelector('[name="phone"]');return""===t.value||t.value.length<3?n.textContent="Введите имя, не меньше 3 БУКВ!":l.value.length<11||l.value.length>16?n.textContent="Введите правильный номер из 11 цифр! Формат ввода: 8 000 000 00 00":e=!0,e},r=()=>{n.textContent="",n.style.display="none"};try{if(!o)throw new Error("Верните форму на место! =)");(o=>{const a=o.querySelectorAll("input"),s=new FormData(o),c={};var i;"form3"===e&&(n.style.color="#19b5fe"),n.style.display="block",n.textContent="Загрузка...",s.forEach(((e,t)=>{c[t]=e})),0!=t.length&&t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?c[e.id]=t.textContent:"input"===e.type&&(c[e.id]=t.value)})),l()&&(i=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{r(),n.style.display="block",n.style.width="",n.style.height="",n.textContent="Спасибо! Наш менеджер свяжется с Вами!",setTimeout(r,8e3),a.forEach((e=>{e.value=""}))})).catch((e=>{"Failed to fetch"===e.message&&(e.message="Данные не отправились, ошибка подключения"),n.textContent=e.message}))})(o),setTimeout(r,5e3)}catch(e){}},t=(e,t)=>{let o,n,l,r=[],a=[],s=[];const c=(o,n,l)=>{let r=0,a=0;const s=(e,t,o)=>{e[t].forEach((e=>{e.classList.add(o)}))},c=(e,t,o)=>{e[t].forEach((e=>{e.classList.remove(o)}))};t.target.closest(".arrow")&&("benefits"==e.id?(s(o,r,"not-active"),t.target.closest(".arrow--right")?(r++,console.log(r)):t.target.closest(".arrow--left")&&(r--,console.log(r)),r>=o.length&&(r=0,console.log(r)),r<0&&(r=o.length-1,console.log(r)),c(o,r,"not-active")):"services"==e.id&&(s(o,a,"not-active"),t.target.closest(".arrow--right")?a++:t.target.closest(".arrow--left")&&a--,a>=o.length&&(a=0),a<0&&(a=o.length-1),c(o,a,"not-active")))};"benefits"==e.id?(l=e.querySelectorAll(".benefits__item"),o=e.querySelector(".benefits__arrow--right"),n=e.querySelector(".benefits__arrow--left"),l.forEach(((e,t)=>{t<=2&&r.push(e),t>2&&a.push(e)})),s.push(r),s.push(a),c(s)):"services"==e.id&&(l=e.querySelectorAll(".col-lg-6"),o=e.querySelector(".services__arrow--right"),n=e.querySelector(".services__arrow--left"),l.forEach(((e,t)=>{t<=1&&r.push(e),t>1&&a.push(e)})),s.push(r),s.push(a),c(s))};(()=>{const e=document.querySelector("body"),t=document.querySelector(".header-modal--opened"),o=document.querySelector(".services-modal--opened"),n=document.querySelector(".overlay"),l=(e,t)=>{n.classList.toggle("overlay-open"),t.classList.toggle(e),n.style.transform="translateX(-100%)",t.style.transform="translate(-100%)";!function({timing:e,draw:t,duration:o}){let n=performance.now();requestAnimationFrame((function l(r){let a=(r-n)/o;a>1&&(a=1);let s=e(a);t(s),a<1&&requestAnimationFrame(l)}))}({duration:500,timing:e=>e,draw(e){t.style.transform=`translate(${(1e3*e-1e3)/2-50}%, ${(1e3*e-1e3)/2-50}%)`,n.style.transform=`translateX(${100*e-100}%)`}})};e.addEventListener("click",(e=>{e.target.matches(".callTel")||e.target.matches(".header-modal__close")?(e.preventDefault(),l("header-modal",t)):(e.target.matches(".modalCall")||e.target.matches(".services-modal__close"))&&(e.preventDefault(),l("services-modal",o))}))})(),(e=>{const t=document.querySelectorAll(".order"),o=function(e){return e<10?"0"+e:e},n=()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:o(Math.floor(t/60/60/24)),hours:o(Math.floor(t/60/60)%24),minutes:o(Math.floor(t/60%60)),seconds:o(Math.floor(t%60))}},l=()=>{let e=n();t.forEach((t=>{const n=t.querySelector("div.count_1 span"),l=t.querySelector("div.count_2 span"),r=t.querySelector("div.count_3 span"),a=t.querySelector("div.count_4 span");e.timeRemaining<0?(n.textContent=o(0),l.textContent=o(0),r.textContent=o(0),a.textContent=o(0)):(n.textContent=e.days,l.textContent=e.hours,r.textContent=e.minutes,a.textContent=e.seconds)}))};n().timeRemaining>0&&setInterval(l,1e3),l()})("24 november 2021"),(()=>{const e=document.querySelector(".smooth-scroll__img");document.getElementById("offer"),e.style.cursor="pointer",e.style.display="none";const t=()=>{let t=window.pageYOffset;t>2&&(e.style.display="block"),t||(e.style.display="none")},o=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(o,0))};document.addEventListener("DOMContentLoaded",(()=>{window.pageYOffset<300&&window.addEventListener("scroll",t)})),e.addEventListener("click",o)})(),(()=>{if("balkony"==document.body.className){const e=document.getElementById("calc"),t=e.querySelector("#calc-type"),o=e.querySelector("#calc-type-material"),n=e.querySelector("#calc-input"),l=e.querySelector("#calc-total"),r=()=>{const e=+t.options[t.selectedIndex].value,l=+o.options[o.selectedIndex].value;let r=n.value;return 0==n.value&&(r=1),{calcTypeValue:e,calcMaterialValue:l,calcInputValue:r}},a=()=>{let e=r();return{sum:e.calcInputValue*e.calcTypeValue*e.calcMaterialValue}},s=()=>{let e=a();l.value=e.sum};e.addEventListener("input",(e=>{"--"!=t.options[t.selectedIndex].value&&"--"!=o.options[o.selectedIndex].value&&s()}))}})(),(()=>{const e=document.querySelectorAll('[name="phone"]'),t=document.querySelectorAll('[name="fio"]'),o=/(^0-9)/,n=/([^0-9\+])/,l=/[^А-Я-а-яё\s][^A-Z-a-z\s]+$/i;"balkony"==document.body.className&&document.querySelector("#calc-input").addEventListener("input",(e=>{e.target.value=e.target.value.replace(o,"")})),t.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(l,"")}))})),e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(n,"")}))}))})();const o=document.getElementById("benefits"),n=document.getElementById("services");o.addEventListener("click",(e=>{t(o,e)})),n.addEventListener("click",(e=>{t(n,e)})),document.querySelectorAll("form").forEach(((t,o)=>{const n=document.createElement("div");n.classList.add("status"),t.append(n),t.addEventListener("submit",(t=>{t.preventDefault(),e({formId:`form${o+1}`,someElem:[{type:"block",id:"calc-total"}]})}))}))})();