(()=>{"use strict";const e=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),l=o.querySelector(".status"),n=()=>{let e;const t=o.querySelector('[name="fio"]'),n=o.querySelector('[name="phone"]');return""===t.value||t.value.length<2?l.textContent="Введите имя, не меньше 3 БУКВ!":n.value.length<11||n.value.length>16?l.textContent="Введите правильный номер из 11 цифр! Формат ввода: 8 000 000 00 00":e=!0,e},a=()=>{l.textContent="",l.style.display="none"};try{if(!o)throw new Error("Верните форму на место! =)");(o=>{const r=o.querySelectorAll("input"),c=new FormData(o),s={};var d;"form3"===e&&(l.style.color="#19b5fe"),l.style.display="block",l.textContent="Загрузка...",c.forEach(((e,t)=>{s[t]=e})),0!==t.length&&(console.log(t),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?s[e.id]=t.textContent:"input"===e.type&&(s[e.id]=t.value)}))),n()&&(d=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{a(),l.style.display="block",l.style.width="",l.style.height="",l.textContent="Спасибо! Наш менеджер свяжется с Вами!",setTimeout(a,8e3),r.forEach((e=>{e.value=""}))})).catch((e=>{"Failed to fetch"===e.message&&(e.message="Данные не отправились, ошибка подключения"),l.textContent=e.message}))})(o),setTimeout(a,5e3)}catch(e){}};(()=>{const e=document.querySelector("body"),t=document.querySelector(".header-modal--opened"),o=document.querySelector(".services-modal--opened"),l=document.querySelector(".overlay"),n=(e,t)=>{l.classList.toggle("overlay-open"),t.classList.toggle(e),t.style.transform="translate(-100%)",function({timing:e,draw:t,duration:o}){let l=performance.now();requestAnimationFrame((function n(a){let r=(a-l)/o;r>1&&(r=1);let c=e(r);t(c),r<1&&requestAnimationFrame(n)}))}({duration:500,timing:e=>e,draw(e){t.style.transform=`translate(${(1e3*e-1e3)/2-50}%, ${(1e3*e-1e3)/2-50}%)`}})};e.addEventListener("click",(e=>{e.target.matches(".callTel")||e.target.matches(".header-modal__close")?(e.preventDefault(),n("header-modal",t)):(e.target.matches(".modalCall")||e.target.matches(".services-modal__close"))&&(e.preventDefault(),n("services-modal",o))}))})(),(e=>{const t=document.querySelectorAll(".order"),o=function(e){return e<10?"0"+e:e},l=()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,days:o(Math.floor(t/60/60/24)),hours:o(Math.floor(t/60/60)%24),minutes:o(Math.floor(t/60%60)),seconds:o(Math.floor(t%60))}},n=()=>{let e=l();t.forEach((t=>{const l=t.querySelector("div.count_1 span"),n=t.querySelector("div.count_2 span"),a=t.querySelector("div.count_3 span"),r=t.querySelector("div.count_4 span");e.timeRemaining<0?(l.textContent=o(0),n.textContent=o(0),a.textContent=o(0),r.textContent=o(0)):(l.textContent=e.days,n.textContent=e.hours,a.textContent=e.minutes,r.textContent=e.seconds)}))};l().timeRemaining>0&&setInterval(n,1e3),n()})("30 november 2021"),(()=>{const e=document.querySelector(".smooth-scroll__img");document.getElementById("offer"),e.style.cursor="pointer",e.style.display="none";const t=()=>{let t=window.pageYOffset;t>2&&(e.style.display="block"),t||(e.style.display="none")},o=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(o,0))};document.addEventListener("DOMContentLoaded",(()=>{window.pageYOffset<300&&window.addEventListener("scroll",t)})),e.addEventListener("click",o)})(),(()=>{if("balkony"==document.body.className){const e=document.getElementById("calc"),t=e.querySelector("#calc-type"),o=e.querySelector("#calc-type-material"),l=e.querySelector("#calc-input"),n=e.querySelector("#calc-total"),a=()=>{const e=+t.options[t.selectedIndex].value,n=+o.options[o.selectedIndex].value;let a=l.value;return 0==l.value&&(a=1),{calcTypeValue:e,calcMaterialValue:n,calcInputValue:a}},r=()=>{let e=a();return{sum:e.calcInputValue*e.calcTypeValue*e.calcMaterialValue}},c=()=>{let e=r();n.value=Math.round(e.sum)};e.addEventListener("input",(e=>{"--"!=t.options[t.selectedIndex].value&&"--"!=o.options[o.selectedIndex].value&&c()}))}})(),(()=>{const e=document.querySelectorAll('[name="phone"]'),t=document.querySelectorAll('[name="fio"]'),o=/(^0-9)/,l=/([^0-9\+])/,n=/[^A-Z-a-z-А-Я-а-я\s]+$/i;"balkony"==document.body.className&&document.querySelector("#calc-input").addEventListener("input",(e=>{e.target.value=e.target.value.replace(o,"")})),t.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(n,"")}))})),e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(l,"")}))}))})(),document.querySelectorAll(".slider").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=(e=>{const t=document.querySelectorAll(`.${e.id}__item`);let o=[],l=[],n=[];return t.forEach((e=>{e.classList.contains("not-active")?n.push(e):l.push(e)})),o.push(l),o.push(n),{slides:o}})(e).slides,l=0;t.target.closest(".arrow")&&(((e,t,o)=>{e[t].forEach((e=>{e.classList.add("not-active")}))})(o,l),t.target.closest(".benefits__arrow--right")||t.target.closest(".services__arrow--right")?l++:(t.target.closest(".benefits__arrow--left")||t.target.closest(".services__arrow--left"))&&l--,l>=o.length&&(l=0),l<0&&(l=o.length-1),((e,t,o)=>{e[t].forEach((e=>{e.classList.remove("not-active")}))})(o,l))}))})),(()=>{const e=document.getElementById("documents").querySelectorAll(".text-center > div"),t=document.querySelector(".overlay");e.forEach(((e,o)=>{let l=e.querySelector("a");l.addEventListener("click",(e=>{e.preventDefault(),(e=>{const o=document.createElement("div"),l=document.createElement("img"),n=document.createElement("span");n.classList.add("sert-modal__close"),n.textContent="x",l.classList.add("sert-img__modal"),l.src=e,o.append(l),o.append(n),o.classList.toggle("modal-sert"),t.append(o),t.classList.toggle("overlay-open"),t.addEventListener("click",(e=>{e.target!==t&&e.target!==n||(e=>{e.remove(),t.classList.toggle("overlay-open")})(o)}))})(l)}))}))})(),(()=>{const e=document.querySelectorAll(".navbar-toggle"),t=document.getElementById("navbar-collapse"),o=document.documentElement.clientWidth,l=e=>{t.classList.toggle("collapse"),t.classList.toggle("navbar-collapse")};e.forEach(((e,t)=>{e.querySelectorAll("span"),e.addEventListener("click",(e=>{l()}))})),o>=992&&l()})(),document.querySelectorAll("form").forEach(((t,o)=>{const l=document.createElement("div");l.classList.add("status"),t.append(l),t.addEventListener("submit",(t=>{t.preventDefault(),t.target.closest(".balkony")?e({formId:`form${o+1}`,someElem:[{type:"block",id:"calc-total"}]}):e({formId:`form${o+1}`,someElem:[]})}))}))})();